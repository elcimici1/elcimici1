<html>
<head>
    <title>Geolocalizzazione</title>
    <script src="http://maps.google.com/maps/api/js?sensor=true"></script>
    <script>
        if(navigator.geolocation){
            navigator.geolocation.getCurrentPosition(mappa_gmaps);
        } 
        else{
            alert("Il browser in uso non supporta la geolocalizzazione");
        }
        function mappa_gmaps(map){
            var
            posizione = new google.maps.LatLng(map.coords.latitude, map.coords.longitude),
            opzioni = {
                zoom: 17,
                center: posizione,
                mapTypeId: google.maps.MapTypeId.SATELLITE
            },
            riquadro = document.getElementById("mappa1"),
            mia_mappa = new google.maps.Map(riquadro, opzioni),
            marker = new google.maps.Marker({
                position: posizione,
                map: mia_mappa,
                title: "Ti Trovi qui!"
            });
        }
    </script>
    <style>
        #mappa1{
            width: 600px;
            height: 400px;
            margin: 10px auto;
        }
    </style>
</head>
<body>
    <div id="mappa1">lol</div>
</body>
</html>